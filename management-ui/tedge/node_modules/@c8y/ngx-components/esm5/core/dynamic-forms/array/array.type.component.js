import * as tslib_1 from "tslib";
import { Component } from '@angular/core';
import { FieldArrayType } from '@ngx-formly/core';
var ArrayTypeComponent = /** @class */ (function (_super) {
    tslib_1.__extends(ArrayTypeComponent, _super);
    function ArrayTypeComponent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ArrayTypeComponent_1 = ArrayTypeComponent;
    ArrayTypeComponent.prototype.ngOnInit = function () {
        if (this.to.required && !this.field.fieldGroup.length) {
            this.add();
        }
    };
    var ArrayTypeComponent_1;
    ArrayTypeComponent.CONFIG = {
        types: [{ name: 'array', component: ArrayTypeComponent_1 }]
    };
    ArrayTypeComponent = ArrayTypeComponent_1 = tslib_1.__decorate([
        Component({
            selector: 'c8y-array-type',
            template: "<div role=\"group\"\n  [attr.aria-labelledby]=\"id + '-fieldset'\"\n>\n  <div id=\"{{id + '-fieldset'}}\"\n    class=\"legend form-block\"\n    *ngIf=\"to.label || to.description\"\n  >\n    {{ to.label }}\n    <button\n      *ngIf=\"to.description\"\n      class=\"btn-clean text-14 m-l-4 flex-item-middle\"\n      [popover]=\"to.description\"\n      placement=\"right\"\n      outsideClick=\"true\"\n      type=\"button\"\n    >\n      <i c8yIcon=\"question-circle-o\" class=\"text-primary\"></i>\n    </button>\n  </div>\n\n  <div class=\"form-control-feedback-message has-error\"\n    role=\"alert\"\n    *ngIf=\"showError && formControl.errors\"\n  >\n    <formly-validation-message [field]=\"field\"></formly-validation-message>\n  </div>\n\n  <div *ngFor=\"let field of field.fieldGroup; let i = index\" class=\"input-group-array\">\n    <formly-field [field]=\"field\">\n    </formly-field>\n    <div class=\"input-group-btn\">\n      <button\n        class=\"btn btn-clean flex-item-right\"\n        title=\"{{ 'Delete' | translate }}\"\n        (click)=\"remove(i)\"\n      >\n        <i c8yIcon=\"minus-circle\" class=\"text-danger\"></i>\n      </button>\n    </div>\n  </div>\n\n  <div class=\"p-t-8\">\n    <button\n      title=\"{{ 'Add \\{\\{ label \\}\\}' | translate: field?.fieldArray?.templateOptions }}\"\n      class=\"btn-add-block\"\n      (click)=\"add()\"\n    >\n      <i c8yIcon=\"plus-square\"></i>\n      <span ngNonBindable translate [translateParams]=\"field?.fieldArray?.templateOptions\"\n        >Add {{ label }}</span\n      >\n    </button>\n  </div>\n</div>\n"
        })
    ], ArrayTypeComponent);
    return ArrayTypeComponent;
}(FieldArrayType));
export { ArrayTypeComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJyYXkudHlwZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYzh5L25neC1jb21wb25lbnRzLyIsInNvdXJjZXMiOlsiY29yZS9keW5hbWljLWZvcm1zL2FycmF5L2FycmF5LnR5cGUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLE1BQU0sZUFBZSxDQUFDO0FBQ2xELE9BQU8sRUFBZ0IsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFNaEU7SUFBd0MsOENBQWM7SUFBdEQ7O0lBVUEsQ0FBQzsyQkFWWSxrQkFBa0I7SUFLN0IscUNBQVEsR0FBUjtRQUNFLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7WUFDckQsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQ1o7SUFDSCxDQUFDOztJQVJlLHlCQUFNLEdBQWlCO1FBQ3JDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsb0JBQWtCLEVBQUUsQ0FBQztLQUMxRCxDQUFDO0lBSFMsa0JBQWtCO1FBSjlCLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxnQkFBZ0I7WUFDMUIseWtEQUEwQztTQUMzQyxDQUFDO09BQ1csa0JBQWtCLENBVTlCO0lBQUQseUJBQUM7Q0FBQSxBQVZELENBQXdDLGNBQWMsR0FVckQ7U0FWWSxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29uZmlnT3B0aW9uLCBGaWVsZEFycmF5VHlwZSB9IGZyb20gJ0BuZ3gtZm9ybWx5L2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjOHktYXJyYXktdHlwZScsXG4gIHRlbXBsYXRlVXJsOiAnLi9hcnJheS50eXBlLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBBcnJheVR5cGVDb21wb25lbnQgZXh0ZW5kcyBGaWVsZEFycmF5VHlwZSBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIHN0YXRpYyByZWFkb25seSBDT05GSUc6IENvbmZpZ09wdGlvbiA9IHtcbiAgICB0eXBlczogW3sgbmFtZTogJ2FycmF5JywgY29tcG9uZW50OiBBcnJheVR5cGVDb21wb25lbnQgfV1cbiAgfTtcblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy50by5yZXF1aXJlZCAmJiAhdGhpcy5maWVsZC5maWVsZEdyb3VwLmxlbmd0aCkge1xuICAgICAgdGhpcy5hZGQoKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==