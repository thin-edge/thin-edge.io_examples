import * as tslib_1 from "tslib";
import { Component, EventEmitter, Output } from '@angular/core';
import { Router } from '@angular/router';
import { BulkOperationsService, OperationType } from '@c8y/ngx-components/operations/bulk-operations-service';
import { BulkOperationModalsService } from '../modals/bulk-operation-modals.service';
var BulkOperationTypeListComponent = /** @class */ (function () {
    function BulkOperationTypeListComponent(router, bulkOperationsService, bulkOperationModalsService) {
        this.router = router;
        this.bulkOperationsService = bulkOperationsService;
        this.bulkOperationModalsService = bulkOperationModalsService;
        this.onCustomType = new EventEmitter();
        this.bulkList = [];
    }
    BulkOperationTypeListComponent.prototype.ngOnInit = function () {
        this.bulkList = this.bulkOperationsService.getBulkTypes();
    };
    BulkOperationTypeListComponent.prototype.handleClick = function (item) {
        if (item.path) {
            this.bulkOperationModalsService.hideNewBulkOperationModal();
            this.router.navigateByUrl(item.path);
        }
        else if (item.component) {
            this.onCustomType.emit(item);
        }
    };
    BulkOperationTypeListComponent.ctorParameters = function () { return [
        { type: Router },
        { type: BulkOperationsService },
        { type: BulkOperationModalsService }
    ]; };
    tslib_1.__decorate([
        Output()
    ], BulkOperationTypeListComponent.prototype, "onCustomType", void 0);
    BulkOperationTypeListComponent = tslib_1.__decorate([
        Component({
            selector: 'c8y-bulk-operation-type-list',
            template: "<div class=\"list-group list-group-links\">\n  <button\n    *ngFor=\"let item of bulkList\"\n    type=\"button\"\n    class=\"list-group-item flex-row\"\n    (click)=\"handleClick(item)\"\n  >\n    <div *ngIf=\"item.c8yIcon; else icon\" class=\"list-item-icon\">\n      <i [c8yIcon]=\"item.c8yIcon\"></i>\n    </div>\n    <ng-template #icon>\n      <div class=\"list-item-icon\">\n        <i c8yIcon=\"cogs\"></i>\n      </div>\n    </ng-template>\n    <div title=\"{{ item.name | translate }}\" class=\"list-item-body text-truncate\">\n      {{ item.name | translate }}\n    </div>\n  </button>\n</div>\n"
        })
    ], BulkOperationTypeListComponent);
    return BulkOperationTypeListComponent;
}());
export { BulkOperationTypeListComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVsay1vcGVyYXRpb24tdHlwZS1saXN0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BjOHkvbmd4LWNvbXBvbmVudHMvb3BlcmF0aW9ucy9idWxrLW9wZXJhdGlvbnMtbGlzdC8iLCJzb3VyY2VzIjpbInR5cGUtbGlzdC9idWxrLW9wZXJhdGlvbi10eXBlLWxpc3QuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDeEUsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3pDLE9BQU8sRUFDTCxxQkFBcUIsRUFDckIsYUFBYSxFQUNkLE1BQU0sd0RBQXdELENBQUM7QUFDaEUsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0seUNBQXlDLENBQUM7QUFNckY7SUFJRSx3Q0FDVSxNQUFjLEVBQ2QscUJBQTRDLEVBQzVDLDBCQUFzRDtRQUZ0RCxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQ2QsMEJBQXFCLEdBQXJCLHFCQUFxQixDQUF1QjtRQUM1QywrQkFBMEIsR0FBMUIsMEJBQTBCLENBQTRCO1FBTnRELGlCQUFZLEdBQWdDLElBQUksWUFBWSxFQUFFLENBQUM7UUFDekUsYUFBUSxHQUFvQixFQUFFLENBQUM7SUFNNUIsQ0FBQztJQUVKLGlEQUFRLEdBQVI7UUFDRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUM1RCxDQUFDO0lBRUQsb0RBQVcsR0FBWCxVQUFZLElBQW1CO1FBQzdCLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtZQUNiLElBQUksQ0FBQywwQkFBMEIsQ0FBQyx5QkFBeUIsRUFBRSxDQUFDO1lBQzVELElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN0QzthQUFNLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUN6QixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUM5QjtJQUNILENBQUM7O2dCQWhCaUIsTUFBTTtnQkFDUyxxQkFBcUI7Z0JBQ2hCLDBCQUEwQjs7SUFOdEQ7UUFBVCxNQUFNLEVBQUU7d0VBQWdFO0lBRDlELDhCQUE4QjtRQUoxQyxTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsOEJBQThCO1lBQ3hDLHltQkFBd0Q7U0FDekQsQ0FBQztPQUNXLDhCQUE4QixDQXNCMUM7SUFBRCxxQ0FBQztDQUFBLEFBdEJELElBc0JDO1NBdEJZLDhCQUE4QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBPdXRwdXQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7XG4gIEJ1bGtPcGVyYXRpb25zU2VydmljZSxcbiAgT3BlcmF0aW9uVHlwZVxufSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzL29wZXJhdGlvbnMvYnVsay1vcGVyYXRpb25zLXNlcnZpY2UnO1xuaW1wb3J0IHsgQnVsa09wZXJhdGlvbk1vZGFsc1NlcnZpY2UgfSBmcm9tICcuLi9tb2RhbHMvYnVsay1vcGVyYXRpb24tbW9kYWxzLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjOHktYnVsay1vcGVyYXRpb24tdHlwZS1saXN0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL2J1bGstb3BlcmF0aW9uLXR5cGUtbGlzdC5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgQnVsa09wZXJhdGlvblR5cGVMaXN0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQE91dHB1dCgpIG9uQ3VzdG9tVHlwZTogRXZlbnRFbWl0dGVyPE9wZXJhdGlvblR5cGU+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBidWxrTGlzdDogT3BlcmF0aW9uVHlwZVtdID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcbiAgICBwcml2YXRlIGJ1bGtPcGVyYXRpb25zU2VydmljZTogQnVsa09wZXJhdGlvbnNTZXJ2aWNlLFxuICAgIHByaXZhdGUgYnVsa09wZXJhdGlvbk1vZGFsc1NlcnZpY2U6IEJ1bGtPcGVyYXRpb25Nb2RhbHNTZXJ2aWNlXG4gICkge31cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmJ1bGtMaXN0ID0gdGhpcy5idWxrT3BlcmF0aW9uc1NlcnZpY2UuZ2V0QnVsa1R5cGVzKCk7XG4gIH1cblxuICBoYW5kbGVDbGljayhpdGVtOiBPcGVyYXRpb25UeXBlKSB7XG4gICAgaWYgKGl0ZW0ucGF0aCkge1xuICAgICAgdGhpcy5idWxrT3BlcmF0aW9uTW9kYWxzU2VydmljZS5oaWRlTmV3QnVsa09wZXJhdGlvbk1vZGFsKCk7XG4gICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKGl0ZW0ucGF0aCk7XG4gICAgfSBlbHNlIGlmIChpdGVtLmNvbXBvbmVudCkge1xuICAgICAgdGhpcy5vbkN1c3RvbVR5cGUuZW1pdChpdGVtKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==