import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { BsModalService } from 'ngx-bootstrap/modal';
import { BulkOperationsService } from '@c8y/ngx-components/operations/bulk-operations-service';
import { BulkOperationWrapperComponent } from './bulk-operation-wrapper.component';
var BulkOperationDetailsService = /** @class */ (function () {
    function BulkOperationDetailsService(bulkOperationsService, modalService) {
        this.bulkOperationsService = bulkOperationsService;
        this.modalService = modalService;
    }
    BulkOperationDetailsService.prototype.openDetails = function (bulkOperationId) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var bulkOperation, initialState;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.bulkOperationsService.getBulkOperationById(bulkOperationId)];
                    case 1:
                        bulkOperation = (_a.sent()).data;
                        initialState = { bulkOperation: bulkOperation };
                        this.modalService.show(BulkOperationWrapperComponent, {
                            initialState: initialState,
                            class: 'modal-lg'
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    BulkOperationDetailsService.ctorParameters = function () { return [
        { type: BulkOperationsService },
        { type: BsModalService }
    ]; };
    BulkOperationDetailsService = tslib_1.__decorate([
        Injectable()
    ], BulkOperationDetailsService);
    return BulkOperationDetailsService;
}());
export { BulkOperationDetailsService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVsay1vcGVyYXRpb24tZGV0YWlscy5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGM4eS9uZ3gtY29tcG9uZW50cy9vcGVyYXRpb25zL2J1bGstb3BlcmF0aW9ucy1saXN0LyIsInNvdXJjZXMiOlsiYnVsay1vcGVyYXRpb24tZGV0YWlscy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNyRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSx3REFBd0QsQ0FBQztBQUMvRixPQUFPLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUduRjtJQUNFLHFDQUNVLHFCQUE0QyxFQUM1QyxZQUE0QjtRQUQ1QiwwQkFBcUIsR0FBckIscUJBQXFCLENBQXVCO1FBQzVDLGlCQUFZLEdBQVosWUFBWSxDQUFnQjtJQUNuQyxDQUFDO0lBRUUsaURBQVcsR0FBakIsVUFBa0IsZUFBZTs7Ozs7NEJBQ1EscUJBQU0sSUFBSSxDQUFDLHFCQUFxQixDQUFDLG9CQUFvQixDQUMxRixlQUFlLENBQ2hCLEVBQUE7O3dCQUZLLGFBQWEsR0FBbUIsQ0FBQyxTQUV0QyxDQUFDLENBQUMsSUFBSTt3QkFDRCxZQUFZLEdBQUcsRUFBRSxhQUFhLGVBQUEsRUFBRSxDQUFDO3dCQUN2QyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyw2QkFBNkIsRUFBRTs0QkFDcEQsWUFBWSxjQUFBOzRCQUNaLEtBQUssRUFBRSxVQUFVO3lCQUNsQixDQUFDLENBQUM7Ozs7O0tBQ0o7O2dCQWJnQyxxQkFBcUI7Z0JBQzlCLGNBQWM7O0lBSDNCLDJCQUEyQjtRQUR2QyxVQUFVLEVBQUU7T0FDQSwyQkFBMkIsQ0FnQnZDO0lBQUQsa0NBQUM7Q0FBQSxBQWhCRCxJQWdCQztTQWhCWSwyQkFBMkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBJT3BlcmF0aW9uQnVsayB9IGZyb20gJ0BjOHkvY2xpZW50JztcbmltcG9ydCB7IEJzTW9kYWxTZXJ2aWNlIH0gZnJvbSAnbmd4LWJvb3RzdHJhcC9tb2RhbCc7XG5pbXBvcnQgeyBCdWxrT3BlcmF0aW9uc1NlcnZpY2UgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzL29wZXJhdGlvbnMvYnVsay1vcGVyYXRpb25zLXNlcnZpY2UnO1xuaW1wb3J0IHsgQnVsa09wZXJhdGlvbldyYXBwZXJDb21wb25lbnQgfSBmcm9tICcuL2J1bGstb3BlcmF0aW9uLXdyYXBwZXIuY29tcG9uZW50JztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEJ1bGtPcGVyYXRpb25EZXRhaWxzU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgYnVsa09wZXJhdGlvbnNTZXJ2aWNlOiBCdWxrT3BlcmF0aW9uc1NlcnZpY2UsXG4gICAgcHJpdmF0ZSBtb2RhbFNlcnZpY2U6IEJzTW9kYWxTZXJ2aWNlXG4gICkge31cblxuICBhc3luYyBvcGVuRGV0YWlscyhidWxrT3BlcmF0aW9uSWQpIHtcbiAgICBjb25zdCBidWxrT3BlcmF0aW9uOiBJT3BlcmF0aW9uQnVsayA9IChhd2FpdCB0aGlzLmJ1bGtPcGVyYXRpb25zU2VydmljZS5nZXRCdWxrT3BlcmF0aW9uQnlJZChcbiAgICAgIGJ1bGtPcGVyYXRpb25JZFxuICAgICkpLmRhdGE7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0geyBidWxrT3BlcmF0aW9uIH07XG4gICAgdGhpcy5tb2RhbFNlcnZpY2Uuc2hvdyhCdWxrT3BlcmF0aW9uV3JhcHBlckNvbXBvbmVudCwge1xuICAgICAgaW5pdGlhbFN0YXRlLFxuICAgICAgY2xhc3M6ICdtb2RhbC1sZydcbiAgICB9KTtcbiAgfVxufVxuIl19